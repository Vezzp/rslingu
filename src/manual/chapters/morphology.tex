\section{Морфемный анализ слов}


\ExplSyntaxOn{}{}

\bool_set_true:N \l_tmpa_bool

\cs_new:Npn \l_tmpa_cs:nnn #1#2#3 {
    \rsName*[ #1 ]
    \tl_if_blank:nTF { #2 } {  } { \rsOpt{\rsKwarg[ #2 ]} }
    \rsReq{\rsArg[ #3 ]}
    &
    \cs:w #1 \cs_end: [ #2 ] { #3 }
}


\cs_new:Npn \l_tmp_cs:nnn #1

\ExplSyntaxOff{}

\subsection{Приставка}

\ExplSyntaxOn{}
\begin{tcolorbox}
    \rsCode{
    \rsModifier[cmd] {}::{}
    \rsName[rsPrefix] \\\rsTab{}
    \rsOpt{
        \rsKwarg[color]:\rsType[bool]=false,
        \rsKwarg[phantom]:\rsType[bool]=false
    }
    \rsReq{
        \rsArg[приставки]:\rsType[clist]
    }
    }
\end{tcolorbox}

\renewcommand{\arraystretch}{1.125}
\begin{table}[ht!]
    \centering
    \begin{tabular}{@{}ll@{}}
        \toprule
        \l_tmpa_cs:nnn { rsPrefix } {} { }                            \\ \midrule
        \l_tmpa_cs:nnn { rsPrefix } {} { приставка }                  \\ \midrule
        \l_tmpa_cs:nnn { rsPrefix } {} { при, став, ки }              \\ \midrule
        \l_tmpa_cs:nnn { rsPrefix } {color} { при, став, ки }         \\ \midrule
        \l_tmpa_cs:nnn { rsPrefix } {phantom} { при, став, ки }       \\ \midrule
        \l_tmpa_cs:nnn { rsPrefix } {color,phantom} { при, став, ки } \\ \midrule
        \bottomrule
    \end{tabular}
    \caption{Использование~команды~приставки}
\end{table}

\ExplSyntaxOff{}


\subsection{Корень}

\ExplSyntaxOn{}
\begin{tcolorbox}
    \rsCode{
    \rsModifier[cmd] {}::{}
    \rsName[rsRoot] \\\rsTab{}
    \rsOpt{
        \rsKwarg[color]:\rsType[bool]=false,
        \rsKwarg[phantom]:\rsType[bool]=false
    }
    \rsReq{
        \rsArg[корни]:\rsType[clist]
    }
    }
\end{tcolorbox}

\renewcommand{\arraystretch}{1.125}
\begin{table}[ht!]
    \centering
    \begin{tabular}{@{}ll@{}}
        \toprule
        \l_tmpa_cs:nnn { rsRoot } {} { }                     \\ \midrule
        \l_tmpa_cs:nnn { rsRoot } {} { корень }              \\ \midrule
        \l_tmpa_cs:nnn { rsRoot } {} { кор,ни }              \\ \midrule
        \l_tmpa_cs:nnn { rsRoot } {color} { кор,ни }         \\ \midrule
        \l_tmpa_cs:nnn { rsRoot } {phantom} { кор,ни }       \\ \midrule
        \l_tmpa_cs:nnn { rsRoot } {color,phantom} { кор,ни } \\ \midrule
        \bottomrule
    \end{tabular}
    \caption{Использование~команды~корня}
\end{table}

\ExplSyntaxOff{}



\subsection{Суффикс}


\ExplSyntaxOn{}
\begin{tcolorbox}
    \rsCode{
    \rsModifier[cmd] {}::{}
    \rsName[rsSuffix] \\\rsTab{}
    \rsOpt{
        \rsKwarg[color]:\rsType[bool]=false,
        \rsKwarg[phantom]:\rsType[bool]=false
    }
    \rsReq{
        \rsArg[суффиксы]:\rsType[clist]
    }
    }
\end{tcolorbox}

\renewcommand{\arraystretch}{1.125}
\begin{table}[ht!]
    \centering
    \begin{tabular}{@{}ll@{}}
        \toprule
        \l_tmpa_cs:nnn { rsSuffix } {} { }                        \\ \midrule
        \l_tmpa_cs:nnn { rsSuffix } {} { суффикс }                \\ \midrule
        \l_tmpa_cs:nnn { rsSuffix } {} { суф,фиксы }              \\ \midrule
        \l_tmpa_cs:nnn { rsSuffix } {color} { суф,фиксы }         \\ \midrule
        \l_tmpa_cs:nnn { rsSuffix } {phantom} { суф,фиксы }       \\ \midrule
        \l_tmpa_cs:nnn { rsSuffix } {color,phantom} { суф,фиксы } \\ \midrule
        \bottomrule
    \end{tabular}
    \caption{Использование~команды~суффикса}
\end{table}

\ExplSyntaxOff{}


\subsection{Окончание}

\ExplSyntaxOn{}
\begin{tcolorbox}
    \rsCode{
    \rsModifier[cmd] {}::{}
    \rsName[rsEnding] \\\rsTab{}
    \rsOpt{
        \rsKwarg[color]:\rsType[bool]=false,
        \rsKwarg[phantom]:\rsType[bool]=false
    }
    \rsReq{
        \rsArg[окончание]:\rsType[tl]
    }
    }
\end{tcolorbox}

\renewcommand{\arraystretch}{1.125}
\begin{table}[ht!]
    \centering
    \begin{tabular}{@{}ll@{}}
        \toprule
        \l_tmpa_cs:nnn { rsEnding } {} { }                        \\ \midrule
        \l_tmpa_cs:nnn { rsEnding } {} { окончание }              \\ \midrule
        \l_tmpa_cs:nnn { rsEnding } {} { окончание }              \\ \midrule
        \l_tmpa_cs:nnn { rsEnding } {color} { окончание }         \\ \midrule
        \l_tmpa_cs:nnn { rsEnding } {phantom} { окончание }       \\ \midrule
        \l_tmpa_cs:nnn { rsEnding } {color,phantom} { окончание } \\ \midrule
        \bottomrule
    \end{tabular}
    \caption{Использование~команды~окончания}
\end{table}

\ExplSyntaxOff{}


\subsection{Постфикc}

\ExplSyntaxOn{}

\begin{tcolorbox}
    \rsCode{
    \rsModifier[cmd] {}::{}
    \rsName[rsPostfix] \\\rsTab{}
    \rsOpt{
        \rsKwarg[color]:\rsType[bool]=false,
        \rsKwarg[phantom]:\rsType[bool]=false
    }
    \rsReq{
        \rsArg[приставки]:\rsType[clist]
    }
    }
\end{tcolorbox}

\renewcommand{\arraystretch}{1.125}
\begin{table}[ht!]
    \centering
    \begin{tabular}{@{}ll@{}}
        \toprule
        \l_tmpa_cs:nnn { rsPostfix } {} { }                          \\ \midrule
        \l_tmpa_cs:nnn { rsPostfix } {} { приставка }                \\ \midrule
        \l_tmpa_cs:nnn { rsPostfix } {} { при,став,ки }              \\ \midrule
        \l_tmpa_cs:nnn { rsPostfix } {color} { при,став,ки }         \\ \midrule
        \l_tmpa_cs:nnn { rsPostfix } {phantom} { при,став,ки }       \\ \midrule
        \l_tmpa_cs:nnn { rsPostfix } {color,phantom} { при,став,ки } \\ \midrule
        \bottomrule
    \end{tabular}
    \caption{Использование~команды~префикса}
\end{table}

\ExplSyntaxOff{}



\subsection{Основа}

\ExplSyntaxOn{}

\begin{tcolorbox}
    \rsCode{
    \rsModifier[cmd] {}::{}
    \rsName[rsBase] \\\rsTab{}
    \rsOpt{
        \rsKwarg[color]:\rsType[bool]=false,
        \rsKwarg[left]:\rsType[bool]=false
        \rsKwarg[right]:\rsType[bool]=false
    } \\\rsTab{}
    \rsReq{
        \rsArg[основа]:\rsType[tl]
    }
    }
\end{tcolorbox}

\renewcommand{\arraystretch}{1.125}
\begin{table}[ht!]
    \centering
    \begin{tabular}{@{}ll@{}}
        \toprule
        \l_tmpa_cs:nnn { rsBase } {} { основа }            \\ \midrule
        \l_tmpa_cs:nnn { rsBase } {color} { основа }       \\ \midrule
        \l_tmpa_cs:nnn { rsBase } {left} { основа }        \\ \midrule
        \l_tmpa_cs:nnn { rsBase } {color,right} { основа } \\ \midrule
        \bottomrule
    \end{tabular}
    \caption{Использование~команды~префикса}
\end{table}

\ExplSyntaxOff{}


\subsection{Морфемный разбор слова}

\subsubsection{Разбор слова с непрерывной основой}

\ExplSyntaxOn{}

\begin{tcolorbox}
    \rsCode{
    \rsModifier[cmd] {}::{} \rsName[rsMorphemicAnalysis] \\\rsTab{}
    \rsOpt{
        \rsKwarg[color]:\rsType[bool]=false,
        \rsKwarg[phantom]:\rsType[bool]=false
    } \\\rsTab{}
    \rsReq{ \rsArg[приставки:clist] }
    \rsReq{ \rsArg[корни:clist] }
    \rsReq{ \rsArg[суффиксы:clist] } \\\rsTab{}
    \rsReq{ \rsArg[окончание:tl] }
    \rsReq{ \rsArg[постфиксы:clist] }
    }
\end{tcolorbox}


\renewcommand{\arraystretch}{1.125}
\begin{table}[ht!]
    \centering
    \begin{tabular}{@{}ll@{}}
        \toprule

        \rsName*[rsMorphemicAnalysis]
        \{ \rsArg[бес,при] \}
        \{ \rsArg[дан] \}
        \{ \rsArg[н,ниц] \}
        \{ \rsArg[а] \}
        \{ \rsArg[] \}
         &
        \rsMorphemicAnalysis{бес,при}{дан}{н,ниц}{а}{}  \\\midrule

        \rsName*[rsMorphemicAnalysis]
        \rsOpt{ \rsKwarg[color] }
        \rsReq{ \rsArg[вне] }
        \rsReq{ \rsArg[штат] }
        \rsReq{ \rsArg[н] }
        \rsReq{ \rsArg[ый] }
        \rsReq{ \rsArg[] }
         &
        \rsMorphemicAnalysis[color]{вне}{штат}{н}{ый}{} \\\midrule

        \bottomrule
    \end{tabular}
    \caption{Использование~команды~морфемного~разбора~слова~с~непрерывной~основой}
\end{table}

\ExplSyntaxOff{}
