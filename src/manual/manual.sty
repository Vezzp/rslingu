\usepackage{ifxetex}

\ifxetex{}
\usepackage{fontspec}
\usepackage{polyglossia}
\setdefaultlanguage{russian}
\defaultfontfeatures{Ligatures=TeX}
\setmainfont{PT}[
    Path = ./ fonts / PT ,
    Extention = .ttf ,
    UprightFont = *-Regular ,
    BoldFont = *-Bold ,
]
\setmainfont{PT}[
    Path = ./ fonts / PT ,
    Extention = .ttf ,
    UprightFont = *-Regular ,
]
\newfontfamily\cyrillicfont{PT Serif}
\newfontfamily\cyrillicfonttt{PT Mono}
\else
\usepackage[T1, T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}
\fi

\usepackage[bottom=2cm,left=3cm,right=1cm,top=2cm]{geometry}

\linespread{1.5}
\normalsize
\usepackage{bookmark}
\usepackage{booktabs}
\usepackage{multicol}
\usepackage{subcaption}
\usepackage{tcolorbox}

\usepackage{./rslingu}

\ExplSyntaxOn

\NewDocumentCommand\rsCode{m}{ \texttt{#1} }

\NewDocumentCommand\rsSpace{} { ~ }

\NewDocumentCommand\rsTab{} { \hspace*{2em} }

\NewDocumentCommand\rsReq{ m } {
    \textcolor[HTML]{F33A6A}{ \textbf{\{} }
        #1
    \textcolor[HTML]{F33A6A}{ \textbf{\}} }
}

\NewDocumentCommand\rsOpt{ m } {
    \textcolor[HTML]{F4BB44}{ \textbf{[} }
        #1
    \textcolor[HTML]{F4BB44}{ \textbf{]} }
}

\NewDocumentCommand\rsKwarg{s O{kwarg}} {
    \texttt{
        \IfBooleanTF{#1}{\textbackslash}{}
        \textcolor{red!75}{#2}
    }
}

\NewDocumentCommand\rsKwargs{s O{kwargs}} {
    #1
}

\NewDocumentCommand\rsArg{ s O{arg} O{} } {
    \texttt{
        \IfBooleanTF{#1}{\textbackslash}{}
        \textcolor{blue!75}{#2}\textcolor{blue!75}
        #3
    }
}

\NewDocumentCommand{\rsName} { s O{name} } {
    \texttt{
        \IfBooleanTF{#1}{\textbackslash}{}
        \textcolor{ForestGreen!75}{#2}
    }
}

\NewDocumentCommand{\rsModifier} { s O{modifier} } {
    \texttt{
        \IfBooleanTF{#1}{\textbackslash}{}
        \textcolor{Orchid}{#2}
    }
}

\NewDocumentCommand\rsColon{} {:}

\NewDocumentCommand\rsType{ O{type} } {
    \texttt{
        \textcolor{TealBlue}{#1}
    } 
}

\NewDocumentCommand\rsDefault{ O{<>} } { \texttt{#1} }

\ExplSyntaxOff{}

\usepackage{minted}

\newminted[Latexcode]{latex}{
    frame=lines,
    framesep=2mm,
    baselinestretch=1.2,
    bgcolor=black!5!white,
    fontsize=\small,
    linenos=true,
    obeytabs=true,
    autogobble,
}

% https://tex.stackexchange.com/a/159770/185741
\usepackage[toc,page]{appendix}
\renewcommand{\appendixtocname}{Приложения}
\renewcommand{\appendixpagename}{Приложения}


\newtcolorbox{tnote}[1][]
{
    colframe = yellow!25,
    colback  = yellow!10,
    coltitle = yellow!20!black,
    title    = {Замечание},
    #1,
}

\newtcolorbox{signature}[1][]
{
    before=\begin{center},
    after=\end{center},
    hbox
}


\NewDocumentCommand\namedautoref{m}{\autoref{#1} «\nameref{#1}»}


\ExplSyntaxOn{}
{{##dev_watermark}}
\ExplSyntaxOff{}
