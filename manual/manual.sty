\usepackage{ifxetex}

\ifxetex{}
\usepackage{fontspec}
\usepackage{polyglossia}
\setdefaultlanguage{russian}
\defaultfontfeatures{Ligatures=TeX}
\setmainfont{PT}[
    Path = ./ fonts / PT ,
    Extention = .ttf ,
    UprightFont = *-Regular ,
    BoldFont = *-Bold ,
]
\setmainfont{PT}[
    Path = ./ fonts / PT ,
    Extention = .ttf ,
    UprightFont = *-Regular ,
]
\newfontfamily\cyrillicfont{Noto Serif}
\newfontfamily\cyrillicfontit{Noto Serif}
\newfontfamily\cyrillicfonttt{Noto Mono}
\else
\usepackage[T1, T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}
\fi

\usepackage[bottom=2cm,left=3cm,right=1cm,top=2cm]{geometry}

\linespread{1.5}

\usepackage{bookmark}
\usepackage{booktabs}
\usepackage{multicol}
\usepackage{subcaption}
\usepackage{tcolorbox}

\usepackage{../rslingu}

\ExplSyntaxOn

\NewDocumentCommand\manCode{m}{ \texttt{#1} }

\NewDocumentCommand\manSpace{} { \hspace*{.5em} }

\NewDocumentCommand\manTab{} { \hspace*{2em} }

\NewDocumentCommand\manReq{ m } {
    \textcolor[HTML]{F33A6A}{ \textbf{\{} }
        #1
    \textcolor[HTML]{F33A6A}{ \textbf{\}} }
}

\NewDocumentCommand\manOpt{ m } {
    \textcolor[HTML]{F4BB44}{ \textbf{[} }
        #1
    \textcolor[HTML]{F4BB44}{ \textbf{]} }
}

\NewDocumentCommand\manKwargs{s O{kwargs}} {
    \texttt{
        \IfBooleanTF{#1}{\textbackslash}{}
        \textcolor{red!75}{#2}
    }
}

\NewDocumentCommand\manArg{s O{arg} O{}} {
    \texttt{
        \IfBooleanTF{#1}{\textbackslash}{}
        \textcolor{blue!75}{#2}\textcolor{blue!75}
        #3
    }
}

\NewDocumentCommand{\manModifier} {s O{modifier} O{}} {
    \texttt{
        \IfBooleanTF{#1}{\textbackslash}{}
        \textcolor{ForestGreen!75}{#2}
        #3
    }
}

\NewDocumentCommand\manColon{} {:}

\ExplSyntaxOff{}

\usepackage{minted}

\newminted[Latexcode]{latex}{
    frame=lines,
    framesep=2mm,
    baselinestretch=1.2,
    bgcolor=black!5!white,
    fontsize=\small,
    linenos=true,
    obeytabs=true,
    autogobble,
}

% https://tex.stackexchange.com/a/159770/185741
\usepackage[toc,page]{appendix}
\renewcommand{\appendixtocname}{Приложения}
\renewcommand{\appendixpagename}{Приложения}


\newtcolorbox{tnote}[1][]
{
    colframe = yellow!25,
    colback  = yellow!10,
    coltitle = yellow!20!black,
    title    = {Замечание},
    #1,
}

\newtcolorbox{signature}[1][]
{
    before=\begin{center},
    after=\end{center},
    hbox
}


\NewDocumentCommand\namedautoref{m}{\autoref{#1} «\nameref{#1}»}


\ExplSyntaxOn{}

\usepackage{background}
\backgroundsetup{
    position=current~page.west,
    angle=90,
    vshift=-5mm,
    opacity=1,
    scale=3,
    contents=Черновик~версии~0.0.3,
}

\ExplSyntaxOff{}
