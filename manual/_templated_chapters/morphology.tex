\section{Морфемный анализ слов}


\ExplSyntaxOn

\bool_set_true:N \l_tmpa_bool

\cs_new:Npn \l_tmpa_cs:nnn #1#2#3 {
    \manModifier*[ #1 ]
    \tl_if_blank:nTF { #2 } {  } { \manOpt{\manKwargs[ #2 ]} }
    \manReq{\manArg[ #3 ]}
    &
    \cs:w #1 \cs_end: [ #2 ] { #3 }
}


\cs_new:Npn \l_tmp_cs:nnn #1

\ExplSyntaxOff

\subsection{Приставка}

\ExplSyntaxOn
\begin{tcolorbox}
    \manCode{
        \manModifier[cmd] \manColon rsPrefix \manOpt\manKwargs
        \manReq{ \manArg[приставки:clist] } \\
        \manTab \manKwargs \rsSpace{} color:bool=false, \rsSpace phantom:bool=false
    }
\end{tcolorbox}

\renewcommand{\arraystretch}{1.125}
\begin{table}[ht!]
    \centering
    \begin{tabular}{@{}ll@{}}
        \toprule
        \l_tmpa_cs:nnn { rsPrefix } {} { }                            \\ \midrule
        \l_tmpa_cs:nnn { rsPrefix } {} { приставка }                  \\ \midrule
        \l_tmpa_cs:nnn { rsPrefix } {} { при, став, ка }              \\ \midrule
        \l_tmpa_cs:nnn { rsPrefix } {color} { при, став, ка }         \\ \midrule
        \l_tmpa_cs:nnn { rsPrefix } {phantom} { при, став, ка }       \\ \midrule
        \l_tmpa_cs:nnn { rsPrefix } {color,phantom} { при, став, ка } \\ \midrule
        \bottomrule
    \end{tabular}
    \caption{Использование~команды~приставки}
\end{table}

\ExplSyntaxOff


\subsection{Корень}

\ExplSyntaxOn
\begin{tcolorbox}
    \manCode{
        \manModifier[cmd] \manColon rsRoot \manOpt\manKwargs \manReq{\manArg[clist]} \\
        \manTab \manKwargs \manColon \rsSpace color=false, \rsSpace phantom=false
    }
\end{tcolorbox}

\renewcommand{\arraystretch}{1.125}
\begin{table}[ht!]
    \centering
    \begin{tabular}{@{}ll@{}}
        \toprule
        \l_tmpa_cs:nnn { rsRoot } {} { }                      \\ \midrule
        \l_tmpa_cs:nnn { rsRoot } {} { корень }               \\ \midrule
        \l_tmpa_cs:nnn { rsRoot } {} { кор,ень }              \\ \midrule
        \l_tmpa_cs:nnn { rsRoot } {color} { кор,ень }         \\ \midrule
        \l_tmpa_cs:nnn { rsRoot } {phantom} { кор,ень }       \\ \midrule
        \l_tmpa_cs:nnn { rsRoot } {color,phantom} { кор,ень } \\ \midrule
        \bottomrule
    \end{tabular}
    \caption{Использование~команды~корня}
\end{table}

\ExplSyntaxOff



\subsection{Суффикс}


\ExplSyntaxOn

\begin{tcolorbox}
    \manCode{
        \manModifier[cmd] \manColon rsSuffix \manOpt\manKwargs \manReq{\manArg[clist]} \\
        \manTab \manKwargs \manColon \rsSpace color=false, \rsSpace phantom=false
    }
\end{tcolorbox}

\renewcommand{\arraystretch}{1.125}
\begin{table}[ht!]
    \centering
    \begin{tabular}{@{}ll@{}}
        \toprule
        \l_tmpa_cs:nnn { rsSuffix } {} { }                       \\ \midrule
        \l_tmpa_cs:nnn { rsSuffix } {} { суффикс }               \\ \midrule
        \l_tmpa_cs:nnn { rsSuffix } {} { суф,фикс }              \\ \midrule
        \l_tmpa_cs:nnn { rsSuffix } {color} { суф,фикс }         \\ \midrule
        \l_tmpa_cs:nnn { rsSuffix } {phantom} { суф,фикс }       \\ \midrule
        \l_tmpa_cs:nnn { rsSuffix } {color,phantom} { суф,фикс } \\ \midrule
        \bottomrule
    \end{tabular}
    \caption{Использование~команды~суффикса}
\end{table}

\ExplSyntaxOff


\subsection{Окончание}

\ExplSyntaxOn
\begin{tcolorbox}
    \manCode{
        \manModifier[cmd] \manColon rsEnding \manOpt\manKwargs \manReq{\manArg[clist]} \\
        \manTab \manKwargs \manColon \rsSpace color=false, \rsSpace phantom=false
    }
\end{tcolorbox}

\renewcommand{\arraystretch}{1.125}
\begin{table}[ht!]
    \centering
    \begin{tabular}{@{}ll@{}}
        \toprule
        \l_tmpa_cs:nnn { rsEnding } {} { }                        \\ \midrule
        \l_tmpa_cs:nnn { rsEnding } {} { окончание }              \\ \midrule
        \l_tmpa_cs:nnn { rsEnding } {} { окончание }              \\ \midrule
        \l_tmpa_cs:nnn { rsEnding } {color} { окончание }         \\ \midrule
        \l_tmpa_cs:nnn { rsEnding } {phantom} { окончание }       \\ \midrule
        \l_tmpa_cs:nnn { rsEnding } {color,phantom} { окончание } \\ \midrule
        \bottomrule
    \end{tabular}
    \caption{Использование~команды~окончания}
\end{table}

\ExplSyntaxOff


\subsection{Постфикc}

\ExplSyntaxOn

\begin{tcolorbox}
    \manCode{
        \manModifier[cmd] \manColon rsPostfix \manOpt\manKwargs \manReq{\manArg[clist]} \\
        \manTab \manKwargs \manColon \rsSpace color=false, \rsSpace phantom=false
    }
\end{tcolorbox}

\renewcommand{\arraystretch}{1.125}
\begin{table}[ht!]
    \centering
    \begin{tabular}{@{}ll@{}}
        \toprule
        \l_tmpa_cs:nnn { rsPostfix } {} { }                          \\ \midrule
        \l_tmpa_cs:nnn { rsPostfix } {} { приставка }                \\ \midrule
        \l_tmpa_cs:nnn { rsPostfix } {} { при,став,ка }              \\ \midrule
        \l_tmpa_cs:nnn { rsPostfix } {color} { при,став,ка }         \\ \midrule
        \l_tmpa_cs:nnn { rsPostfix } {phantom} { при,став,ка }       \\ \midrule
        \l_tmpa_cs:nnn { rsPostfix } {color,phantom} { при,став,ка } \\ \midrule
        \bottomrule
    \end{tabular}
    \caption{Использование~команды~префикса}
\end{table}

\ExplSyntaxOff



\subsection{Основа}

\ExplSyntaxOn

\begin{tcolorbox}
    \manCode{
        \manModifier[cmd] \manColon rsBase \manOpt\manKwargs \manReq{\manArg[tl]} \\
        \manTab \manKwargs \manColon \rsSpace color=false, \rsSpace left=false,
        \rsSpace right=false
    }
\end{tcolorbox}

\renewcommand{\arraystretch}{1.125}
\begin{table}[ht!]
    \centering
    \begin{tabular}{@{}ll@{}}
        \toprule
        \l_tmpa_cs:nnn { rsBase } {} { основа }            \\ \midrule
        \l_tmpa_cs:nnn { rsBase } {color} { основа }       \\ \midrule
        \l_tmpa_cs:nnn { rsBase } {left} { основа }        \\ \midrule
        \l_tmpa_cs:nnn { rsBase } {color,right} { основа } \\ \midrule
        \bottomrule
    \end{tabular}
    \caption{Использование~команды~префикса}
\end{table}

\ExplSyntaxOff


\subsection{Морфемный разбор слова}

\subsubsection{Разбор слова с непрерывной основой}

\ExplSyntaxOn

\begin{tcolorbox}
    \manCode{
        \manModifier[cmd] \manColon rsMorphemicAnalysis
        \manOpt\manKwargs \\
        \manReq{ \manArg[приставки:clist] }
        \manReq{ \manArg[корни:clist] }
        \manReq{ \manArg[суффикс:clist] }
        \manReq{ \manArg[окончание:clist] }
        \manReq{ \manArg[постфикс:clist] }
        \\
        \manTab \manKwargs \manColon \rsSpace color=false, \rsSpace phantom=false
    }
\end{tcolorbox}


\renewcommand{\arraystretch}{1.125}
\begin{table}[ht!]
    \centering
    \begin{tabular}{@{}ll@{}}
        \toprule

        \manModifier*[rsMorphemicAnalysis]
        \{ \manArg[бес,при] \}
        \{ \manArg[дан] \}
        \{ \manArg[н,ниц] \}
        \{ \manArg[а] \}
        \{ \manArg[] \}
         &
        \rsMorphemicAnalysis{бес,при}{дан}{н,ниц}{а}{}  \\\midrule

        \manModifier*[rsMorphemicAnalysis]
        \manOpt{ \manKwargs[color] }
        \manReq{ \manArg[вне] }
        \manReq{ \manArg[штат] }
        \manReq{ \manArg[н] }
        \manReq{ \manArg[ый] }
        \manReq{ \manArg[] }
         &
        \rsMorphemicAnalysis[color]{вне}{штат}{н}{ый}{} \\\midrule

        \bottomrule
    \end{tabular}
    \caption{Использование~команды~морфемного~разбора~слова~с~непрерывной~основой}
\end{table}

\ExplSyntaxOff
